- defaults:
    link:
      create: true
      relink: true

- clean: ['~', '~/.config', '~/bin', '~/scripts']

- link:
    ~/.config/git: config/git
    ~/.config/npm: config/npm
    ~/.profile: config/shell/profile
    ~/.tmux.conf: config/tmux/tmux.conf
    ~/.vim/vimrc: config/vim/vimrc
    ~/Library/Application Support/Code/User: config/vscode
    ~/Library/Application Support/Sublime Text 3/Packages/User: config/sublime
    ~/Library/Application Support/Sublime Text 3/Packages/UserPlugins: config/sublime/plugins
    ~/Library/LaunchAgents/env-sync.plist: config/launch-agents/env-sync.plist

- shell:
  - [git submodule update --init --recursive, Installing submodules]
  - [git submodule update --remote --rebase, Updating submodules]
  - [mkdir -p ~/bin ~/scripts, Creating directories]
  - [scripts/utilities/link-scripts.sh "$PWD/scripts/utilities" ~/bin, Linking utility executables]
  - [scripts/utilities/link-scripts.sh "$PWD/scripts/osx" ~/bin, Linking platform executables]
  - [ln -fs $PWD/scripts/* ~/scripts/, Linking scripts]

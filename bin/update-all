#!/usr/bin/env bash

: "${DOTFILES_HOME:="$HOME/.dotfiles"}"

# dotfiles
(
    cd "$DOTFILES_HOME"
    git pull --recurse-submodules
    ./install
)

# brew packages
brew update
brew upgrade
brew bundle --file="$DOTFILES_HOME/mac/Brewfile"

# vim package docs
vim -c 'helptags all' +qall

# rustup
if command -v rustup >/dev/null 2>&1; then
    rustup update
fi

# GHCup
if command -v ghcup >/dev/null 2>&1; then
    ghcup upgrade
fi

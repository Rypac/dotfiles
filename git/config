[user]
	name = Ryan Davis
	email = ryan@rypac.org
	signingKey = ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIM8mD/3yA57Q/nPT0SQpdgABkn5tVlequOPnKSOxiNMw

[github]
	user = Rypac

[color]
	ui = true

[core]
	editor = vim

[init]
	defaultBranch = main

[alias]
	# Aliases
	alias = !git config -l | grep alias | cut -c 7-

	# Logs
	lg = log --graph --abbrev-commit --decorate --format=format:'%C(bold blue)%h%C(reset) - %C(bold cyan)%aD%C(reset) %C(bold green)(%ar)%C(reset)%C(bold yellow)%d%C(reset)%n''          %C(white)%s%C(reset) %C(dim white)- %an%C(reset)' --all
	ls = log --pretty=format:"%C(yellow)%h%C(red)%d\\ %Creset%s\\ %C(blue)[%cn]" --decorate
	lc = log --pretty=format:"%C(yellow)%h%C(red)%d\\ %Creset%s\\ %C(blue)[%cn]" --decorate --numstat
	ld = log --pretty=format:"%C(yellow)%h\\ %ad%C(red)%d\\ %Creset%s\\ %C(blue)[%cn]" --decorate --date=short
	lr = log --pretty=format:"%C(yellow)%h\\ %ad%C(red)%d\\ %Creset%s\\ %C(blue)[%cn]" --decorate --date=relative
	lf = log -u

	# Searching
	search = !git ls-files | grep -i
	grep = grep -Ii

	# Fixing things
	undo = reset HEAD~1 --mixed
	amend = commit -a --amend

	# Branch management
	rename = branch -m
	orphan = !git branch --merged | egrep -v \"(^\\*|master|main)\"
	branch-clean = !git branch --merged | egrep -v \"(^\\*|master|main)\" | xargs git branch -d

	# Submodules
	subdiff = !git diff && git submodule foreach 'git diff'
	subpush = push --recurse-submodules=on-demand
	subinit = submodule update --init --recursive
	subpull = submodule update --init --remote --merge

[push]
	default = simple

[pull]
	ff = only

[merge]
	tool = smerge

[mergetool "smerge"]
	cmd = smerge mergetool \"$BASE\" \"$LOCAL\" \"$REMOTE\" -o \"$MERGED\"
	trustExitCode = true

[commit]
	gpgsign = true

[tag]
	gpgsign = true

[gpg]
	format = ssh

[gpg "ssh"]
	program = "/Applications/1Password.app/Contents/MacOS/op-ssh-sign"
	allowedSignersFile = ~/.config/git/allowed_signers
